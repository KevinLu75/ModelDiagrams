<div class="min-h-screen bg-black text-white gap-2.5 flex flex-col items-center justify-center pt-5">
    <div class="w-11/12">
        <div class="flex justify-between items-center mb-4">
            <h1 class="text-2xl">Diagrama de Clases</h1>
            <button (click)="goTo('home')" class="px-4 py-2 bg-red text-white rounded-2xl shadow cursor-pointer">Volver</button>
        </div>
        <div class="flex justify-between mb-4">
            <button (click)="addClass()" class="px-4 py-2 bg-green-aqua text-white rounded-2xl shadow">Agregar Clase</button>
            <button (click)="addRelation()" class="px-4 py-2 bg-aqua text-white rounded-2xl shadow">Agregar Relación</button>
            <button (click)="exportModel()" class="px-4 py-2 bg-yellow text-white rounded-2xl shadow">Exportar Modelo</button>
            <input type="file" (change)="importModel($event)" class="hidden" #fileInput />
            <button (click)="fileInput.click()" class="px-4 py-2 bg-purple text-white rounded-2xl shadow">Importar Modelo</button>
        </div>
        <div #diagramDiv class="w-full h-[600px] border rounded-2xl shadow-lg bg-gray-900"></div>
        
        <!-- Instructions Panel -->
        <div class="mt-4 p-4 bg-gray-800 rounded-lg text-sm">
            <h3 class="font-bold mb-2">Instrucciones:</h3>
            <ul class="list-disc list-inside">
                <li>Doble clic en una clase para editarla</li>
                <li>Para crear una relación, selecciona dos clases (usa Ctrl para selección múltiple) y haz clic en "Agregar Relación"</li>
                <li>Puedes arrastrar nodos y conexiones para reorganizar el diagrama</li>
            </ul>
        </div>
    </div>

    <!-- Class Dialog -->
    <app-class-dialog
        [visible]="showClassDialog"
        [isEdit]="isEditingClass"
        [classData]="currentClassData"
        (save)="saveClass($event)"
        (cancel)="cancelClassDialog()">
    </app-class-dialog>

    <!-- Relation Dialog -->
    <app-relation-dialog
        [visible]="showRelationDialog"
        [fromKey]="selectedNodes.fromKey"
        [toKey]="selectedNodes.toKey"
        (save)="saveRelation($event)"
        (cancel)="cancelRelationDialog()">
    </app-relation-dialog>
</div>